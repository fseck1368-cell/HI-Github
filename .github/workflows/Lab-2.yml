name: Testing github workflows

on: push

jobs:
  init:
    runs-on: ubuntu-latest
    steps:
      - run: echo 'Initialisation'
      - run: echo $HOSTNAME

  recuperation_code:
    runs-on: ubuntu-latest
    needs: init
    steps:
      - run: echo 'Recuperation du code'
      - run: echo $HOSTNAME

  build:
    runs-on: ubuntu-latest
    needs: recuperation_code
    steps:
      - run: echo 'Build'
      - run: echo $HOSTNAME

  tests:
    runs-on: ubuntu-latest
    needs: build
    steps:
      - run: echo 'Tests'
      - run: echo $HOSTNAME

  packaging:
    runs-on: ubuntu-latest
    needs: tests
    steps:
      - run: echo 'Packaging'
      - run: echo $HOSTNAME

  fin_pipeline:
    runs-on: ubuntu-latest
    needs: packaging
    steps:
      - run: echo 'Fin du pipeline'
      - run: echo $HOSTNAME
